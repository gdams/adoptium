{"componentChunkName":"component---src-templates-asciidoc-template-tsx","path":"/de/es/docs/reproducible-verification-builds/reproduce-linux-x64/","result":{"data":{"asciidoc":{"html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>The following instructions detail the process of rebuilding identically from \"source\" in a secure build environment, a reproducible build for a given Eclipse Temurin release on the Linux x64 platform. The process is performed in a secure manner, using only the upstream sources and securely verified build tooling, so as to provide a mechanism to securely verify the given Eclipse Temurin release binary. This verification then helps determine the security of the supply chains used to build the Eclipse Temurin official release binaries.</p>\n</div>\n<div class=\"paragraph\">\n<p>The procedure consists of the following steps:</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Build environment setup</p>\n</li>\n<li>\n<p>Build the gcc DevKit from \"source\" identical to the one used by Eclipse Adoptium</p>\n</li>\n<li>\n<p>Determine the OpenJDK make configuration arguments matching the Eclipse Temurin options</p>\n</li>\n<li>\n<p>Build the local Eclipse Temurin JDK</p>\n</li>\n<li>\n<p>Compare the secure local Eclipse Temurin re-build to the official Eclipse Temurin binary</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_linux_x64_reproducible_verification_build_procedure\">Linux x64 reproducible verification build procedure</h2>\n<div class=\"sectionbody\">\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p>Build Environment</p>\n<div class=\"paragraph\">\n<p>To re-build identically Eclipse Temurin on Linux x64, a suitable Centos or RHEL, of version 7 or 8, is required.</p>\n</div>\n</li>\n<li>\n<p>Install EPEL Tools</p>\n<div class=\"paragraph\">\n<p>Centos7/8:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>yum install epel-release</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>RHEL7:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>RHEL8:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Install Build Tools</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>yum install -y tar git patch gcc gcc-c++ wget bison texinfo lbzip2 zip unzip glibc.x86_64 glibc-devel.x86_64 glibc.i686 glibc-devel.i686 libgcc.i686\nyum install -y autoconf systemtap systemtap-sdt-devel</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>GNU make version &gt;= 4 ?</p>\n<div class=\"paragraph\">\n<p>GNU make must be at least version 4, in order to build the gcc DevKit.</p>\n</div>\n<div class=\"paragraph\">\n<p>Check the GNU make version</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>make --version</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>If not at least version 4, then download and build GNU make 4.3 as follows:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>curl -O -L https://ftp.gnu.org/gnu/make/make-4.3.tar.gz\ncurl -O -L https://ftp.gnu.org/gnu/make/make-4.3.tar.gz.sig\n# Verify download:\ngpg --keyserver keyserver.ubuntu.com --recv-keys 6D4EEB02AD834703510B117680CB727A20C79BB2\n# Reference: https://lists.gnu.org/archive/html/bug-make/2016-12/msg00002.html\ngpg --verify make-4.3.tar.gz.sig make-4.3.tar.gz\n# Check for “Good signature”\n# Build\ntar -xf make-4.3.tar.gz\n(cd make-4.3 &amp;&amp; ./configure --prefix=/usr/local &amp;&amp; make clean &amp;&amp; make &amp;&amp; make install)\nln -s /usr/local/bin/make /usr/local/bin/gmake</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Set Timezone to UTC</p>\n<div class=\"paragraph\">\n<p>For identical builds, the build timezone must be UTC to ensure exact binary build output</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>timedatectl set-timezone UTC</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Download Adoptium DevKit Toolchain make script files</p>\n<div class=\"paragraph\">\n<p>In order to securely and identically build a gcc DevKit Toolchain, securely download the following scripts from the Eclipse Adoptium repository. These scripts\nand patches enable the DevKit make process to build with a Centos sysroot and also enables GPG verified downloading of the Centos RPMs for additional integrity checking.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>curl -L -O https://raw.githubusercontent.com/adoptium/ci-jenkins-pipelines/master/pipelines/build/devkit/make_devkit.sh\ncurl -L -O https://raw.githubusercontent.com/adoptium/ci-jenkins-pipelines/master/pipelines/build/devkit/Tools.gmk.patch\ncurl -L -O https://raw.githubusercontent.com/adoptium/ci-jenkins-pipelines/master/pipelines/build/devkit/binutils-2.39.patch</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Build the gcc DevKit Toolchain from source</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>bash ./make_devkit.sh jdk21u x86_64 Centos 7.9.2009</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The built \"DevKit path\" will be in folder jdk21u/build/devkit/result/x86_64-linux-gnu-to-x86_64-linux-gnu</p>\n</div>\n<div class=\"paragraph\">\n<p>Set LD_LIBRARY_PATH to locate the newly built DevKit libraries</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>        export LD_LIBRARY_PATH=&lt;DevKit path&gt;/lib64:&lt;DevKit path&gt;/lib</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Download SBOM of Eclipse Temurin build to be verified</p>\n<div class=\"paragraph\">\n<p>For example, to download the SBOM and SBOM-metadata for release jdk-21.0.4+7</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>curl -L -O https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.4%2B7/OpenJDK21U-sbom_x64_linux_hotspot_21.0.4_7.json\ncurl -L -O https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.4%2B7/OpenJDK21U-sbom_x64_linux_hotspot_21.0.4_7-metadata.json</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Determine upstream OpenJDK source tag to be built</p>\n<div class=\"paragraph\">\n<p>Open the SBOM json file and determine the \"SCM Ref\" the release was built from</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>        {\n          \"name\" : \"SCM Ref\",\n          \"value\" : \"jdk-21.0.4+7_adopt\"\n        },</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>The upstream OpenJDK tag is this value without the \"_adopt\", eg. \"jdk-21.0.4+7\"</p>\n</div>\n</li>\n<li>\n<p>Download a suitable Boot JDK</p>\n<div class=\"paragraph\">\n<p>To build Temurin you need a suitable Boot JDK, open the SBOM json file and determine the version used to build the release</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>      {\n        \"name\" : \"BOOTJDK\",\n        \"version\" : \"20.0.2+9\"\n      },</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Securely download and verify the required version from the <a href=\"https://github.com/adoptium/temurin&lt;NN&gt;-binaries/releases\" class=\"bare\">https://github.com/adoptium/temurin&lt;NN&gt;-binaries/releases</a></p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code># Download JDK tar.gz\ncurl -L -O https://github.com/adoptium/temurin20-binaries/releases/download/jdk-20.0.2%2B9/OpenJDK20U-jdk_x64_linux_hotspot_20.0.2_9.tar.gz\n# Download GPG sig file to verify\ncurl -L -O https://github.com/adoptium/temurin20-binaries/releases/download/jdk-20.0.2%2B9/OpenJDK20U-jdk_x64_linux_hotspot_20.0.2_9.tar.gz.sig\n# Verify JDK using Adoptium GPG key\ngpg --keyserver keyserver.ubuntu.com --recv-keys 3B04D753C9050D9A5D343F39843C48A565F8F04B\necho -e \"5\\ny\\n\" |  gpg --batch --command-fd 0 --expert --edit-key 3B04D753C9050D9A5D343F39843C48A565F8F04B trust;\ngpg --verify OpenJDK20U-jdk_x64_linux_hotspot_20.0.2_9.tar.gz.sig OpenJDK20U-jdk_x64_linux_hotspot_20.0.2_9.tar.gz</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Ensure \"Good signature from Adoptium GPG Key (DEB/RPM Signing Key)\"</p>\n</div>\n<div class=\"paragraph\">\n<p>Unpack into a suitable folder</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>tar -xf OpenJDK20U-jdk_x64_linux_hotspot_20.0.2_9.tar.gz</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Add to PATH environment</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>export PATH=&lt;bootjdk&gt;/bin:$PATH</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Clone required upstream OpenJDK source</p>\n<div class=\"paragraph\">\n<p>Replace jdk21u with the upstream release being built</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>git clone https://github.com/openjdk/jdk21u.git jdk21u_bld\n# Checkout required tag to build\n(cd jdk21u_bld &amp;&amp; git checkout &lt;OpenJDK tag to build&gt;)</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Create a local build directory</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>mkdir openjdk_build</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Configure build</p>\n<div class=\"paragraph\">\n<p>Determine and edit the \"configure args\" to match your local environment</p>\n</div>\n<div class=\"olist loweralpha\">\n<ol class=\"loweralpha\" type=\"a\">\n<li>\n<p>Determine the configure arguments for this build</p>\n<div class=\"paragraph\">\n<p>Use the following grep to find the required configure arguments from the SBOM-metadata.json</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>grep \"using configure arguments\" &lt;SBOM-metadata.json&gt; | sed -n -e \"s/^.*using configure arguments '\\(.*\\)'\\..*/\\1/p\"</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Replace -–with-devkit=&lt;path&gt;, with path to the local built gcc DevKit \"&lt;path&gt;/jdk21u/build/devkit/result/x86_64-linux-gnu-to-x86_64-linux-gnu\".</p>\n</li>\n<li>\n<p>Remove -–with-cacerts-src=&lt;path&gt;, as Temurin is built with Mozilla CA certs, whereas the local build will use the standard OpenJDK CA certs.</p>\n</li>\n<li>\n<p>Replace -–with-boot-jdk=&lt;path&gt;, with the path to your local un-tared boot jdk from above.</p>\n<div class=\"paragraph\">\n<p>Configure from the \"openjdk_build\" directory</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>cd openjdk_build\nbash ../jdk21u_bld/configure &lt;edited configure args&gt;</code></pre>\n</div>\n</div>\n</li>\n</ol>\n</div>\n</li>\n<li>\n<p>Build Temurin</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>make images</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Remove built image output that is not relevant to the reproducible build comparison</p>\n<div class=\"olist loweralpha\">\n<ol class=\"loweralpha\" type=\"a\">\n<li>\n<p>“cacerts” : Temurin builds with it’s own list of Mozilla CA certificates (needs removing from lib/security and java.base/lib/security)</p>\n</li>\n<li>\n<p>“release” : “release” text description file differs due to different build OS environment and Temurin additional metadata</p>\n</li>\n<li>\n<p>“demo” : Temurin does not ship the “demo” example files</p>\n</li>\n<li>\n<p>“debuginfo” : Temurin JDK tarball does not contain debuginfo</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>rm -f images/jdk/lib/security/cacerts\nrm -f images/jdk/release\nrm -rf images/jdk/demo\nfind \"images/jdk\" -type f -name \"*.debuginfo\" -delete\n(mkdir images/jdk/jmods/java.base_expanded &amp;&amp; jmod extract --dir images/jdk/jmods/java.base_expanded images/jdk/jmods/java.base.jmod &amp;&amp; rm -f images/jdk/jmods/java.base.jmod)\nrm -f images/jdk/jmods/java.base_expanded/lib/security/cacerts\n# Change back to root directory\ncd ..</code></pre>\n</div>\n</div>\n</li>\n</ol>\n</div>\n</li>\n<li>\n<p>Download offical Eclipse Temurin release for \"Verification\"</p>\n<div class=\"paragraph\">\n<p>Download and unpack the Temurin JDK to be verified:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>curl -L -o temurin-linux-x64-jdk-21.0.4+7.tar.gz https://api.adoptium.net/v3/binary/version/jdk-21.0.4+7/linux/x64/jdk/hotspot/normal/adoptium\ntar -xf temurin-linux-x64-jdk-21.0.4+7.tar.gz</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Remove the same non-relevant files</p>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>rm -f jdk-21.0.4+7/lib/security/cacerts\nrm -f jdk-21.0.4+7/release\nrm -f jdk-21.0.4+7/NOTICE\n(mkdir jdk-21.0.4+7/jmods/java.base_expanded &amp;&amp; jmod extract --dir jdk-21.0.4+7/jmods/java.base_expanded jdk-21.0.4+7/jmods/java.base.jmod &amp;&amp; rm -f jdk-21.0.4+7/jmods/java.base.jmod)\nrm -f jdk-21.0.4+7/jmods/java.base_expanded/lib/security/cacerts</code></pre>\n</div>\n</div>\n</li>\n<li>\n<p>Verify the local secure re-build is identical to the official Eclipse Temurin binary</p>\n<div class=\"paragraph\">\n<p>Compare the two images</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code>diff -r openjdk_build/images/jdk jdk-21.0.4+7</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>For a successful verification there should be no differences.</p>\n</div>\n</li>\n</ol>\n</div>\n</div>\n</div>","document":{"title":"Temurin Reproducible Verification Build on Linux x64","main":"Temurin Reproducible Verification Build on Linux x64"},"fields":{"slug":"/docs/reproducible-verification-builds/reproduce-linux-x64/","relativePath":"docs/reproducible-verification-builds/reproduce-linux-x64/index.adoc"},"pageAttributes":{"authors":"andrew-m-leonard","based_on":null}},"locales":{"edges":[{"node":{"ns":"asciidoc","data":"{\"asciidoc.template.warn.default.locale\":\"Dies ist die <englishVersionLink>englische Version</englishVersionLink> der Seite, da aktuell noch keine deutsche Übersetzung verfügbar ist. Du kannst uns helfen diese Seite in deutsch bereitzustellen. In unserem <translationGuideLink>Leitfaden zu Übersetzungen</translationGuideLink> findest du mehr Informationen.\",\"asciidoc.template.warn.outdated\":\"Die deutsche Übersetzung dieser Seite basiert auf einem <previousEnglishVersionLink>nicht mehr aktuellen englischen Text</previousEnglishVersionLink>. Daher ist es Möglich, dass Teile des Textes nicht mehr zutreffen. Du kannst helfen die Seite aktuell zu halten und eine überarbeitete Übersetzung der <lastEnglishVersionLink>aktuellen englischen Seite</lastEnglishVersionLink> bereitzustellen. In unserem <translationGuideLink>Leitfaden zu Übersetzungen</translationGuideLink> findest du mehr Informationen.\"}","language":"de"}},{"node":{"ns":"download","data":"{\"Download Temurin for\":\"Temurin™ für {{userOSName}} {{arch}} herunterladen\",\"Latest LTS Release\":\"Aktuelles LTS-Release\",\"Latest Releases\":\"Aktuelles Releases\",\"Nightly Builds\":\"Nächtliche Builds\",\"Other platforms and versions\":\"Weitere Plattformen und Versionen\",\"Release Archive\":\"Archivierte Releases\",\"Vendor\":\"Anbieter\",\"Operating System\":\"Betriebssystem\",\"Architecture\":\"Systemarchitektur\",\"Download\":\"Herunterladen\",\"Checksum\":\"Prüfsumme\",\"Package Type\":\"Pakettyp\",\"Source Code Archive\":\"Quellcode-Archiv\"}","language":"de"}},{"node":{"ns":"index","data":"{\"Prebuilt OpenJDK\":\"Kostenlose OpenJDK™\",\"Binaries for Free!\":\"Binaries zum Download!\",\"Intro\":\"Java™ ist die weltweit führende Programmiersprache und Softwareplattform. Die Adoptium Working Group fördert und unterstützt qualitativ hochwertige, TCK-zertifizierte Laufzeitumgebungen und zugehörige Technologien für den Einsatz im gesamten Java-Ökosystem. Eclipse Temurin ist der Name der OpenJDK-Distribution von Adoptium.\"}","language":"de"}},{"node":{"ns":"language-selector","data":"{\"Change Language\":\"Sprache ändern\"}","language":"de"}},{"node":{"ns":"marketplace","data":"{\"marketplace.marketplaceDescription\":\"Java™ ist die weltweit führende Programmiersprache und Softwareplattform.<br>Der Adoptium Marketplace bietet hochwertige und TCK-zertifizierte sowie AQAvit-verifizierte Java-Laufzeitumgebungen zum Download an.\",\"marketplace.aqavitDescription\":\"Informationen zur offenen Testsuite AQAvit (<strong>A</strong>doptium <strong>Q</strong>uality <strong>A</strong>ssurance) können <aqavitLink>hier</aqavitLink> gefunden werden. Zusätzlich ist <blogPostLink>in diesem Blogpost</blogPostLink> eine Beschreibung über die Nutzung der Tests und deren Integration in die Infrastruktur zum Bau und Test von Java-Laufzeitumgebungen zu finden.\"}","language":"de"}},{"node":{"ns":"temurin","data":"{\"release.intro\":\"Eclipse Temurin ist die quelloffene Java-SE-Implementierung basierend auf OpenJDK. Temurin ist für <supportedPlatformsLink>eine Vielzahl von Plattformen</supportedPlatformsLink> und Java-SE-Versionen verfügbar. Die aktuellsten Versionen zur Verwendung in Produktivumgebungen sind unten aufgelistet und werden <supportLink>regelmäßig aktualisiert und unterstützt</supportLink> durch die Adoptium-Community. Hilfe zur Migration, zu Containern und zur Installation durch Paketmanager ist in unserer <docsLink>Dokumentation</docsLink> zu finden.\",\"Use the drop-down boxes below to filter the list of current releases.\":\"Die Auswahllisten unten können benutzt werden um aktuelle Releases zu filtern.\",\"Previous releases are available in the Temurin archive.\":\"Vorherige Releases sind im Temurin-Archiv verfügbar.\",\"Release Notes\":\"Versionshinweise\"}","language":"de"}},{"node":{"ns":"working-group","data":"{\"The Adoptium Working Group\":\"Über die Adoptium Working Group\",\"wg-description\":\"Die Adoptium Working Group fördert und unterstützt qualitativ hochwertige, TCK-zertifizierte Laufzeitumgebungen und zugehörige Technologien für den Einsatz im gesamten Java™-Ökosystem. Unsere Vision ist es sowohl für die Eclipse Foundation als auch die gesamte Java-Community Laufzeitumgebungen für Java-Anwendungen bereitzustellen. Wir setzen hierbei auf bestehende Standards und unterstützen eine breite Palette der Hardware- und Cloud-Plattformen am Markt.\",\"Join the Working Group\":\"Mitglied der Working Group werden\",\"View our Members\":\"Unsere Mitglieder\"}","language":"de"}}]}},"pageContext":{"title":"Temurin Reproducible Verification Build on Linux x64","locale":"en","language":"de","i18n":{"language":"de","languages":["en","en-GB","de","es","fr","zh-CN"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/es/docs/reproducible-verification-builds/reproduce-linux-x64/","path":"de/es/docs/reproducible-verification-builds/reproduce-linux-x64"}}},"staticQueryHashes":["3235583029","764694655"],"slicesMap":{"banner":"banner","footer":"footer","navbar":"navbar"}}